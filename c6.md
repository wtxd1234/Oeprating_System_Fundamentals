### Chapter 6: Memory Management

#### 6.1 Basic Concepts
- **Memory Management**: The process of controlling and coordinating computer memory, allocating memory to processes and ensuring that multiple processes can use memory efficiently.
- **Primary Memory**: The main memory of the system, including RAM and cache.
- **Virtual Memory**: An abstraction that provides processes with the illusion of a large, contiguous memory space, even if the physical memory is fragmented or limited.

#### 6.2 Contiguous Memory Allocation
- **Definition**: Memory allocation strategy where each process is allocated a single contiguous block of memory.
- **Types**:
  - **Fixed Partitioning**: Memory is divided into fixed-sized partitions. Each process fits into a partition.
    - **Advantages**: Simple to implement.
    - **Disadvantages**: Internal fragmentation if a process does not use the entire partition.
  - **Dynamic Partitioning**: Memory is divided into partitions of variable sizes based on the needs of the process.
    - **Advantages**: More efficient use of memory.
    - **Disadvantages**: External fragmentation, where free memory is scattered in small blocks.

#### 6.3 Paging
- **Definition**: A memory management scheme that eliminates the need for contiguous allocation by dividing memory into fixed-sized pages.
- **Page Table**: Maps logical addresses (pages) to physical addresses (frames).
- **Advantages**:
  - **Eliminates External Fragmentation**: No need for contiguous memory.
  - **Simplifies Memory Allocation**: Pages can be allocated anywhere in physical memory.
- **Disadvantages**:
  - **Internal Fragmentation**: Occurs if the last page is not fully utilized.
  - **Page Table Overhead**: Additional memory is used to maintain page tables.

#### 6.4 Segmentation
- **Definition**: A memory management technique that divides the memory into segments based on the logical division of a process (e.g., code, data, stack).
- **Segment Table**: Maps segment numbers to physical addresses.
- **Advantages**:
  - **Logical Segmentation**: Matches the logical structure of the program.
  - **Variable-Sized Segments**: Reduces internal fragmentation.
- **Disadvantages**:
  - **External Fragmentation**: Free memory can become fragmented as segments are allocated and deallocated.

#### 6.5 Virtual Memory
- **Definition**: A technique that gives the illusion of a large continuous memory space to processes, even if the physical memory is smaller or fragmented.
- **Paging and Segmentation**: Virtual memory can use paging, segmentation, or both.
- **Page Replacement**: When physical memory is full, some pages are swapped out to disk (swap space) to make room for new pages.
- **Page Replacement Algorithms**:
  - **FIFO (First-In, First-Out)**: Replaces the oldest page in memory.
  - **LRU (Least Recently Used)**: Replaces the page that has not been used for the longest time.
  - **Optimal**: Replaces the page that will not be used for the longest time in the future (theoretical and not implementable in practice).
  - **Clock**: Uses a circular buffer to keep track of page usage.

#### 6.6 Demand Paging
- **Definition**: Pages are loaded into memory only when they are needed, rather than loading the entire process at once.
- **Page Fault**: Occurs when a process tries to access a page that is not currently in memory. The OS must handle the page fault by loading the page from disk.
- **Thrashing**: A situation where excessive paging occurs, leading to a significant decrease in system performance.

#### 6.7 Swapping
- **Definition**: The process of moving entire processes between main memory and disk to free up memory for other processes.
- **Swapping Out**: Moving a process from main memory to disk.
- **Swapping In**: Moving a process from disk to main memory.
- **Advantages**:
  - **Increased Multiprogramming**: Allows more processes to be kept in memory.
- **Disadvantages**:
  - **Performance Overhead**: Frequent swapping can degrade system performance.

#### 6.8 Memory Allocation Strategies
- **First-Fit**: Allocates the first block of memory that is large enough to accommodate the process.
- **Best-Fit**: Allocates the smallest block of memory that fits the process, minimizing wasted space.
- **Worst-Fit**: Allocates the largest available block of memory, potentially leaving large gaps.

#### 6.9 Memory Protection
- **Purpose**: To prevent processes from interfering with each other's memory.
- **Mechanisms**:
  - **Base and Limit Registers**: Define the range of memory a process can access.
  - **Memory Management Unit (MMU)**: Translates logical addresses to physical addresses and enforces access restrictions.

#### 6.10 Address Translation
- **Logical Address (Virtual Address)**: Address generated by the CPU during execution.
- **Physical Address**: Address in the main memory.
- **Translation Process**:
  - **Page Table Lookup**: Determines the physical address of a page based on the page table.
  - **TLB (Translation Lookaside Buffer)**: A cache used to speed up address translation.

#### 6.11 Segmentation with Paging
- **Combines Paging and Segmentation**: Uses segmentation to divide the process into segments, and paging within each segment.
- **Advantages**:
  - **Flexibility**: Combines benefits of both techniques.
  - **Reduced Fragmentation**: Both external and internal fragmentation are minimized.

#### 6.12 Page Replacement Algorithms
- **FIFO (First-In, First-Out)**:
  - **Description**: Pages are replaced in the order they were added.
  - **Implementation**: Uses a queue to track page order.
- **LRU (Least Recently Used)**:
  - **Description**: Replaces the page that has not been used for the longest period.
  - **Implementation**: Requires tracking page usage over time.
- **Clock Algorithm**:
  - **Description**: Uses a circular buffer and a "clock hand" to track page usage.
  - **Implementation**: Each page is given a reference bit; pages with reference bit set to 0 are replaced.
